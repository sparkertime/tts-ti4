<!--
  Current implementation plan
  Each color gets its own panel with visibility set to only their color
  Script detects cards and modifiers on the drawer and prepares a summary up top
  The total stack looks something like this then:
  TECHS & ACTION CARDS (expandable if we can)
    summary of what is detected
    prompt on "play cards on your drawer, tech board, or rail to have them detected here"
    refresh
  UNITS (w/ reset)
    | UNITA | UNITB |
    | - X + | - X + |
    ...
  TYPE (Space, Ground, AFB, Bombardment)
    toggles, each one turns off all others
  SUMMARY
    Destroyers (2 rolls at 9+)
    ...
  ROLL!
-->

<Defaults>
  <Button
    color='#ffdddd'
  />
  <Panel
    allowDragging='false'
    raycastTarget="true"
    rectAlignment="UpperRight"
  />
  <VerticalLayout
    allowDragging='false'
    raycastTarget="true"
    rectAlignment="UpperRight"
  />
  <Panel
    class='combatPanel'
    outline='#912A1F'
    color='#B5675E'
    outlineSize='2 2'
    allowDragging='false'
    raycastTarget="true"
    rectAlignment="UpperRight"
  />
  <VerticalLayout
    class='combatSection'
    outline='#912A1F'
    color='#ffffff'
    padding='6 6 3 3'
  />
  <Text
    class='sectionTitle'
    fontStyle='Bold'
    fontSize='16'
    preferredHeight='25'
    flexibleHeight='0'
  />
  <Option
    fontStyle='Bold'
  />
</Defaults>

<Panel
  class='combatPanel'
  active='true'
  padding='3 3 3 3'
  offsetXY="0 -50"
  width="150"
  height="50">
  <ToggleButton
    id="combatTogglePanel__button"
    text="Show Combat Roller"
    onValueChanged="toggleCombatRoller"
    isOn='false'
  />
</Panel>

<Panel
  id='combatPanel'
  class='combatPanel'
  active='false'
  offsetXY='0 -110'
  width='400'
  height='80%'
  flexibleHeight='true'>
  <VerticalLayout
    height='100%'
    childForceExpandHeight='0'
    spacing='5'>

    <VerticalLayout
      class='combatSection'
      preferredHeight='150'
      flexibleHeight='0'
      childForceExpandHeight='0'>
      <Text
        class='sectionTitle'>
        TECHS / ACTION CARDS
      </Text>
      <VerticalScrollView flexibleHeight='1' verticalScrollbarVisibility='AutoHide'>
        <VerticalLayout id='techAndActionCardList' childForceExpandHeight='0' height='98' color='#ffffff'>
          <Text>Tech 1</Text>
        </VerticalLayout>
      </VerticalScrollView>
      <Button
        id="refreshButton"
        text="Refresh"
        onClick='refreshCombatModifiers'
        preferredHeight='20'
        flexibleHeight='0'
      />
    </VerticalLayout>

    <VerticalLayout
      class='combatSection'
      flexibleHeight='1'
      >
      <Text class='sectionTitle'>UNITS</Text>
    </VerticalLayout>

    <VerticalLayout 
      class='combatSection'
      preferredHeight='60'
      flexibleHeight='0'
      childForceExpandHeight='0'>
      <Text class='sectionTitle'>ROLL TYPE</Text>
      <Dropdown
        onValueChanged="optionSelected"
        flexibleHeight='1'
      >
        <Option selected="true">Combat</Option>
        <Option>Space Cannon</Option>
        <Option>Bombardment</Option>
        <Option>Anti-Fighter Barrage</Option>
      </Dropdown>
    </VerticalLayout>

    <VerticalLayout
      class='combatSection'
      preferredHeight='100'
      flexibleHeight='0'
      childForceExpandHeight='0'>
      <Text class='sectionTitle'>SUMMARY</Text>
      <Text flexibleHeight='1'>(summary here)</Text>
    </VerticalLayout>

    <Button
      id="rollButton"
      text="Roll!"
      onClick='rollCombatDice'
      fontSize='18'
      preferredHeight='50'
      flexibleHeight='0'
      fontStyle='Bold'
      />
  </VerticalLayout>
</Panel>